(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1d94"],{"4TKC":function(t,e,a){"use strict";a.r(e);var n=a("DVUn"),r={data:function(){return{curDate:this.$parent.$parent.$parent.curDate,tableData:[{}],name:"",total:0,pageSize:20,curPageNo:1}},methods:{getParent:function(){this.curDate=this.$parent.$parent.$parent.curDate},init:function(){this.getParent(),this.curPageNo=1,this.refreshTable()},refreshTable:function(){var t=this;console.log("刷新当前页: "+this.curPageNo),console.log("刷新当前日期: "+this.curDate),console.log("刷新当前关键词: "+this.name),n.a.getActivity(this.name,this.curDate,this.curPageNo,this.pageSize).then(function(e){console.log("retention:"+e),t.tableData=e.detail,t.total=e.total}).catch(function(t){console.log("失败"+t)})},handleCurrentChange:function(t){this.refreshTable()},formatRate:function(t,e,a,n){return parseFloat(a).toFixed(2)+"%"},formatAmount:function(t,e,a,n){return parseFloat(a).toFixed(2)}}},o=a("KHd+"),l=Object(o.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"el-row",attrs:{gutter:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"活动名称"}},[a("el-input",{attrs:{placeholder:"活动名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.init}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","font-size":"15px"},attrs:{height:"250",data:t.tableData,"header-cell-style":{background:"#eef1f6",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"activity_id",label:"活动ID",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"activity_name",label:"活动名称",width:"230"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_count",label:"参与活动订单数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_final_amount",label:"参与活动订单金额(减免后)",formatter:t.formatAmount}}),t._v(" "),a("el-table-column",{attrs:{prop:"reduce_amount",label:"优惠金额",width:"130",formatter:t.formatAmount}}),t._v(" "),a("el-table-column",{attrs:{prop:"reduce_rate",label:"补贴率(%)",width:"130",formatter:t.formatRate}}),t._v(" "),a("el-table-column",{attrs:{prop:"rule_comment",label:"订单规则占比"}}),t._v(" "),a("el-table-column",{attrs:{prop:"spu_comment",label:"商品占比"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tm_comment",label:"品牌占比"}})],1),t._v(" "),a("el-pagination",{attrs:{"page-size":t.pageSize,"pager-count":7,"current-page":t.curPageNo,layout:"total,prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.curPageNo=e}}})],1)},[],!1,null,null,null);l.options.__file="activityTable.vue";var i=l.exports,u={data:function(){return{curDate:this.$parent.$parent.$parent.curDate,tableData:[{}],name:"",total:0,pageSize:20,curPageNo:1}},methods:{getParent:function(){this.curDate=this.$parent.$parent.$parent.curDate},init:function(){this.getParent(),this.curPageNo=1,this.refreshTable()},refreshTable:function(){var t=this;console.log("刷新当前页: "+this.curPageNo),console.log("刷新当前日期: "+this.curDate),console.log("刷新当前关键词: "+this.name),n.a.getCoupon(this.name,this.curDate,this.curPageNo,this.pageSize).then(function(e){console.log("retention:"+e),t.tableData=e.detail,t.total=e.total}).catch(function(t){console.log("失败"+t)})},handleCurrentChange:function(t){this.refreshTable()},formatRate:function(t,e,a,n){return parseFloat(a).toFixed(2)+"%"},formatAmount:function(t,e,a,n){return parseFloat(a).toFixed(2)}}},c=Object(o.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"el-row",attrs:{gutter:24}},[a("span",{staticStyle:{"font-size":"26px","font-weight":"bold"}}),t._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"优惠券名称"}},[a("el-input",{attrs:{placeholder:"优惠券名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.init}},[t._v("查询")])],1)],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","font-size":"15px"},attrs:{height:"250",data:t.tableData,"header-cell-style":{background:"#eef1f6",color:"#606266"}}},[a("el-table-column",{attrs:{prop:"coupon_id",label:"优惠券ID",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coupon_name",label:"优惠券名称",width:"230"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rule_name",label:"优惠规则",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"get_count",label:"领取次数",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_count",label:"使用(下单)次数",width:"230"}}),t._v(" "),a("el-table-column",{attrs:{prop:"expire_count",label:"过期次数",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{prop:"order_final_amount",label:"使用优惠券订单金额(减免后)",width:"260",formatter:t.formatAmount}}),t._v(" "),a("el-table-column",{attrs:{prop:"reduce_amount",label:"优惠金额",width:"160",formatter:t.formatAmount}}),t._v(" "),a("el-table-column",{attrs:{prop:"reduce_rate",label:"补贴率(%)",width:"120",formatter:t.formatRate}}),t._v(" "),a("el-table-column",{attrs:{prop:"spu_comment",label:"商品占比",width:"320"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tm_comment",label:"品牌占比",width:"320"}})],1),t._v(" "),a("el-pagination",{attrs:{"page-size":t.pageSize,"pager-count":7,"current-page":t.curPageNo,layout:"total,prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.curPageNo=e}}})],1)},[],!1,null,null,null);c.options.__file="couponTable.vue";var s=c.exports,d={data:function(){return{dateRange:"近7日",recentDays:7,curDate:(new Date).toISOString().substring(0,10)}},mounted:function(){this.setParent()},methods:{setParent:function(){this.$parent.curDate=this.curDate,this.$parent.recentDays=this.recentDays,this.$parent.dateRange=this.dateRange},dateChange:function(){this.setParent(),this.$parent.refresh()},radioChange:function(){"近30日"==this.dateRange?this.recentDays=30:"近7日"==this.dateRange?this.recentDays=7:"昨日"==this.dateRange&&(this.recentDays=1),this.setParent(),this.$parent.refresh()}}},m=(a("XMPp"),Object(o.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"el-row",attrs:{gutter:24}},[a("el-col",{staticClass:"el-card",attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-col",{attrs:{span:6}},[a("el-form",{staticClass:"demo-form-inline ",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:" 当前日期"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{change:function(e){t.dateChange()}},model:{value:t.curDate,callback:function(e){t.curDate=e},expression:"curDate"}})],1)],1)],1)],1)])],1)],1)},[],!1,null,null,null));m.options.__file="datePicker.vue";var p={components:{activityTable:i,couponTable:s,datePicker:m.exports},data:function(){return{curDate:(new Date).toISOString().substring(0,10)}},methods:{refresh:function(){}}},g=Object(o.a)(p,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-container"},[e("datePicker"),this._v(" "),e("el-row",{staticClass:"el-row",attrs:{gutter:24}},[e("el-col",{staticClass:"el-card",attrs:{span:24,align:"center"}},[e("div",{staticClass:"grid-content bg-purple"},[e("activityTable",{ref:"activityTable"})],1)])],1),this._v(" "),e("el-row",{staticClass:"el-row",attrs:{gutter:24}},[e("el-col",{staticClass:"el-card",attrs:{span:24,align:"center"}},[e("div",{staticClass:"grid-content bg-purple"},[e("couponTable",{ref:"couponTable"})],1)])],1)],1)},[],!1,null,null,null);g.options.__file="activity.vue";e.default=g.exports},DVUn:function(t,e,a){"use strict";var n=a("t3Un");e.a={getPvData:function(t,e){return console.log(t),(!t||t<1)&&(t=7),Object(n.a)({url:"/pvCount?days="+t+"&dt="+e,method:"get"})},getUvData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/uvCount?days="+t+"&dt="+e,method:"get"})},getNewVisitStats:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/newVisitStats?days="+t+"&dt="+e,method:"get"})},getVisitTotalData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/visitTotal?days="+t+"&dt="+e,method:"get"})},getChannelPvData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/channel?days="+t+"&t=pv&dt="+e,method:"get"})},getChannelBounceData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/channel?days="+t+"&t=br&dt="+e,method:"get"})},getPagePathData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/pagePath?days="+t+"&dt="+e,method:"get"})},getUserActionConvertData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/userActionConvert?days="+t+"&dt="+e,method:"get"})},getUserPaidData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/userPaid?days="+t+"&dt="+e,method:"get"})},getSpuTopNData:function(t,e,a){return(!t||t<1)&&(t=7),(!e||e<1)&&(e=7),Object(n.a)({url:"/spu?days="+t+"&num="+e+"&dt="+a+"&t=CT",method:"get"})},getSpuGMVData:function(t,e,a){return(!t||t<1)&&(t=7),(!e||e<1)&&(e=7),Object(n.a)({url:"/spu?days="+t+"&num="+e+"&dt="+a+"&t=GMV",method:"get"})},getTmTopNData:function(t,e,a){return(!t||t<1)&&(t=7),Object(n.a)({url:"/tm?days="+t+"&num="+e+"&dt="+a,method:"get"})},getOrderCategoryData:function(t,e,a){return(!t||t<1)&&(t=7),Object(n.a)({url:"/category?days="+t+"&num="+e+"&dt="+a,method:"get"})},getOrderAreaData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/area?days="+t+"&dt="+e,method:"get"})},getOrderTotalData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/orderTotal?days="+t+"&dt="+e,method:"get"})},getUserTotalData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/userTotal?days="+t+"&dt="+e,method:"get"})},getDauRealtimeData:function(t){return Object(n.a)({url:"/dauRealtime?td="+t+" ",method:"get"})},getGenderStatsByItem:function(t,e){return Object(n.a)({url:"/statsByItem?t=gender&date="+t+"&itemName="+e+" ",method:"get"})},getAgeStatsByItem:function(t,e){return Object(n.a)({url:"/statsByItem?t=age&date="+t+"&itemName="+e+" ",method:"get"})},getDetailStatsByItem:function(t,e,a,r){return Object(n.a)({url:"/detailByItem?date="+t+"&itemName="+e+"&pageNo="+a+"&pageSize="+r+" ",method:"get"})},getUserRetention:function(t){return Object(n.a)({url:"/userRetention?dt="+t+"  ",method:"get"})},getActivity:function(t,e,a,r){return Object(n.a)({url:"/activity?name="+t+"&dt="+e+"&pageNo="+a+"&pageSize="+r+" ",method:"get"})},getCoupon:function(t,e,a,r){return Object(n.a)({url:"/coupon?name="+t+"&dt="+e+"&pageNo="+a+"&pageSize="+r+" ",method:"get"})},getTmRepeat:function(t,e,a){return(!t||t<1)&&(t=7),Object(n.a)({url:"/tmRepeat?days="+t+"&num="+e+"&dt="+a,method:"get"})}}},NnqG:function(t,e,a){},XMPp:function(t,e,a){"use strict";var n=a("NnqG");a.n(n).a}}]);