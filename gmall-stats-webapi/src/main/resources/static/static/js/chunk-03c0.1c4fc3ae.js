(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-03c0"],{"5sdm":function(t,e,a){"use strict";var n=a("EbTp");a.n(n).a},DVUn:function(t,e,a){"use strict";var n=a("t3Un");e.a={getPvData:function(t,e){return console.log(t),(!t||t<1)&&(t=7),Object(n.a)({url:"/pvCount?days="+t+"&dt="+e,method:"get"})},getUvData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/uvCount?days="+t+"&dt="+e,method:"get"})},getNewVisitStats:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/newVisitStats?days="+t+"&dt="+e,method:"get"})},getVisitTotalData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/visitTotal?days="+t+"&dt="+e,method:"get"})},getChannelPvData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/channel?days="+t+"&t=pv&dt="+e,method:"get"})},getChannelBounceData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/channel?days="+t+"&t=br&dt="+e,method:"get"})},getPagePathData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/pagePath?days="+t+"&dt="+e,method:"get"})},getUserActionConvertData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/userActionConvert?days="+t+"&dt="+e,method:"get"})},getUserPaidData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/userPaid?days="+t+"&dt="+e,method:"get"})},getSpuTopNData:function(t,e,a){return(!t||t<1)&&(t=7),(!e||e<1)&&(e=7),Object(n.a)({url:"/spu?days="+t+"&num="+e+"&dt="+a+"&t=CT",method:"get"})},getSpuGMVData:function(t,e,a){return(!t||t<1)&&(t=7),(!e||e<1)&&(e=7),Object(n.a)({url:"/spu?days="+t+"&num="+e+"&dt="+a+"&t=GMV",method:"get"})},getTmTopNData:function(t,e,a){return(!t||t<1)&&(t=7),Object(n.a)({url:"/tm?days="+t+"&num="+e+"&dt="+a,method:"get"})},getOrderCategoryData:function(t,e,a){return(!t||t<1)&&(t=7),Object(n.a)({url:"/category?days="+t+"&num="+e+"&dt="+a,method:"get"})},getOrderAreaData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/area?days="+t+"&dt="+e,method:"get"})},getOrderTotalData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/orderTotal?days="+t+"&dt="+e,method:"get"})},getUserTotalData:function(t,e){return(!t||t<1)&&(t=7),Object(n.a)({url:"/userTotal?days="+t+"&dt="+e,method:"get"})},getDauRealtimeData:function(t){return Object(n.a)({url:"/dauRealtime?td="+t+" ",method:"get"})},getGenderStatsByItem:function(t,e){return Object(n.a)({url:"/statsByItem?t=gender&date="+t+"&itemName="+e+" ",method:"get"})},getAgeStatsByItem:function(t,e){return Object(n.a)({url:"/statsByItem?t=age&date="+t+"&itemName="+e+" ",method:"get"})},getDetailStatsByItem:function(t,e,a,r){return Object(n.a)({url:"/detailByItem?date="+t+"&itemName="+e+"&pageNo="+a+"&pageSize="+r+" ",method:"get"})},getUserRetention:function(t){return Object(n.a)({url:"/userRetention?dt="+t+"  ",method:"get"})},getActivity:function(t,e,a,r){return Object(n.a)({url:"/activity?name="+t+"&dt="+e+"&pageNo="+a+"&pageSize="+r+" ",method:"get"})},getCoupon:function(t,e,a,r){return Object(n.a)({url:"/coupon?name="+t+"&dt="+e+"&pageNo="+a+"&pageSize="+r+" ",method:"get"})},getTmRepeat:function(t,e,a){return(!t||t<1)&&(t=7),Object(n.a)({url:"/tmRepeat?days="+t+"&num="+e+"&dt="+a,method:"get"})}}},EbTp:function(t,e,a){},GSiV:function(t,e,a){"use strict";var n={data:function(){return{dateRange:"近7日",recentDays:7,curDate:(new Date).toISOString().substring(0,10)}},mounted:function(){this.setParent()},methods:{setParent:function(){this.$parent.curDate=this.curDate,this.$parent.recentDays=this.recentDays,this.$parent.dateRange=this.dateRange},dateChange:function(){this.setParent(),this.$parent.refresh()},radioChange:function(){"近30日"==this.dateRange?this.recentDays=30:"近7日"==this.dateRange?this.recentDays=7:"昨日"==this.dateRange&&(this.recentDays=1),this.setParent(),this.$parent.refresh()}}},r=(a("5sdm"),a("KHd+")),s=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"el-row",attrs:{gutter:24}},[a("el-col",{staticClass:"el-card",attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-col",{attrs:{span:18}},[a("el-radio-group",{on:{change:function(e){t.radioChange()}},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}},[a("el-radio-button",{attrs:{label:"昨日"}}),t._v(" "),a("el-radio-button",{attrs:{label:"近7日"}}),t._v(" "),a("el-radio-button",{attrs:{label:"近30日"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form",{staticClass:"demo-form-inline ",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:" 当前日期"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{change:function(e){t.dateChange()}},model:{value:t.curDate,callback:function(e){t.curDate=e},expression:"curDate"}})],1)],1)],1)],1)])],1)],1)},[],!1,null,null,null);s.options.__file="dateRange.vue";e.a=s.exports},Spwl:function(t,e,a){"use strict";a.r(e);var n=a("GSiV"),r=a("MT78"),s=a.n(r),i=a("DVUn"),o={created:function(){console.log("list created......")},mounted:function(){this.init()},data:function(){return{recentDays:this.$parent.$parent.$parent.recentDays,dateRange:this.$parent.$parent.$parent.dateRange,xData:["非消费用户","消费用户"],yData:[{value:40,name:"非消费用户"},{value:33,name:"消费用户"}]}},methods:{getParent:function(){this.curDate=this.$parent.$parent.$parent.curDate,this.recentDays=this.$parent.$parent.$parent.recentDays,this.dateRange=this.$parent.$parent.$parent.dateRange},init:function(){var t=this;this.getParent(),i.a.getUserPaidData(this.recentDays,this.curDate).then(function(e){console.log(e.xData),console.log(e.yData),t.xData=e.xData,t.yData=e.yData,t.setChartData()}).catch(function(t){console.log("失败"+t)})},setChartData:function(){var t={title:{text:"消费用户占比",subtext:this.dateRange,left:"left"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",top:"bottom",data:this.xData},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"消费用户占比",type:"pie",radius:[10,140],center:["50%","50%"],roseType:"radius",itemStyle:{borderRadius:5},emphasis:{label:{show:!1}},data:this.yData}]};s.a.init(document.getElementById("userPaidChart")).setOption(t)}}},l=a("KHd+"),c=Object(l.a)(o,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:"userPaidChart"}})},[],!1,null,null,null);c.options.__file="userPaid.vue";var u=c.exports,d={created:function(){console.log("list created......")},mounted:function(){this.init()},data:function(){return{recentDays:this.$parent.$parent.$parent.recentDays,dateRange:this.$parent.$parent.$parent.dateRange,curDate:this.$parent.$parent.$parent.curDate,xData:["首页","商品详情","加购物车","订单","支付"],yData:[{value:200,name:"首页"},{value:470,name:"商品详情"},{value:60,name:"加购物车"},{value:43,name:"订单"},{value:33,name:"支付"}]}},methods:{getParent:function(){this.curDate=this.$parent.$parent.$parent.curDate,this.recentDays=this.$parent.$parent.$parent.recentDays,this.dateRange=this.$parent.$parent.$parent.dateRange},init:function(){var t=this;this.getParent(),i.a.getUserActionConvertData(this.recentDays,this.curDate).then(function(e){console.log(e.xData),console.log(e.yData),t.xData=e.xData,t.yData=e.yData,t.setChartData()}).catch(function(t){console.log("失败"+t)})},setChartData:function(){var t={title:{text:"漏斗图",subtext:this.dateRange},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}%"},toolbox:{feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},legend:{data:this.xData},series:[{name:"漏斗图",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:this.yData}]};s.a.init(document.getElementById("userConversionChart")).setOption(t)}}},p=Object(l.a)(d,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:"userConversionChart"}})},[],!1,null,null,null);p.options.__file="userAction.vue";var g=p.exports,h={data:function(){return{recentDays:this.$parent.recentDays,dateRange:this.$parent.dateRange,curDate:this.$parent.curDate,userTotal:123123,orderUserTotal:4343,newUserCount:4341,newOrderUserCount:1234,pct:991}},mounted:function(){this.init()},methods:{getParent:function(){this.curDate=this.$parent.curDate,this.recentDays=this.$parent.recentDays,this.dateRange=this.$parent.dateRange},init:function(){var t=this;this.getParent(),i.a.getUserTotalData(this.recentDays,this.curDate).then(function(e){t.userTotal=e.userTotal,t.orderUserTotal=e.orderUserTotal,t.newUserCount=e.newUserCount,t.newOrderUserCount=e.newOrderUserCount,t.pct=e.pct,t.userChurn=e.userChurn}).catch(function(t){console.log("失败"+t)})}}},f=Object(l.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"el-row",attrs:{gutter:1}},[a("el-col",{staticClass:"el-card",attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticStyle:{"font-size":"18px",color:"grey"}},[t._v("累计注册用户数  ")]),t._v(" "),a("br"),t._v(" "),a("div",{staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(" "+t._s(t.userTotal)),a("span",{staticStyle:{"font-size":"20px"}},[t._v("人")])])])]),t._v(" "),a("el-col",{staticClass:"el-card",attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticStyle:{"font-size":"18px",color:"grey"}},[t._v("累计消费用户数  ")]),t._v(" "),a("br"),t._v(" "),a("div",{staticStyle:{"font-size":"40px","text-align":"center"}},[t._v("  "+t._s(t.orderUserTotal)),a("span",{staticStyle:{"font-size":"20px"}},[t._v("人")])])])]),t._v(" "),a("el-col",{staticClass:"el-card",attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticStyle:{"font-size":"18px",color:"grey"}},[t._v(t._s(t.dateRange)+"新增注册用户数  ")]),t._v(" "),a("br"),t._v(" "),a("div",{staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(t._s(t.newUserCount)),a("span",{staticStyle:{"font-size":"20px"}},[t._v("人")])])])]),t._v(" "),a("el-col",{staticClass:"el-card",attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticStyle:{"font-size":"18px",color:"grey"}},[t._v(t._s(t.dateRange)+"新增消费用户数  ")]),t._v(" "),a("br"),t._v(" "),a("div",{staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(" "+t._s(t.newOrderUserCount)),a("span",{staticStyle:{"font-size":"20px"}},[t._v("人")])])])]),t._v(" "),a("el-col",{staticClass:"el-card",attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticStyle:{"font-size":"18px",color:"grey"}},[t._v(t._s(t.dateRange)+"客单价  ")]),t._v(" "),a("br"),t._v(" "),a("div",{staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(" "+t._s(t.pct)),a("span",{staticStyle:{"font-size":"20px"}},[t._v("元")])])])]),t._v(" "),a("el-col",{staticClass:"el-card",attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticStyle:{"font-size":"18px",color:"grey"}},[t._v(t._s(t.dateRange)+"用户流失数  ")]),t._v(" "),a("br"),t._v(" "),a("div",{staticStyle:{"font-size":"40px","text-align":"center"}},[t._v(" "+t._s(t.userChurn)),a("span",{staticStyle:{"font-size":"20px"}},[t._v("人")])])])])],1)],1)},[],!1,null,null,null);f.options.__file="userTotal.vue";var m=f.exports,v={data:function(){return{curDate:this.$parent.$parent.$parent.curDate,recentDays:this.$parent.$parent.$parent.recentDays,dateRange:this.$parent.$parent.$parent.dateRange,tableData:[{create_date:"2021-03-06",new_user_count:310,retention_rate_d1:10.1,retention_rate_d2:10.1,retention_rate_d3:10.5,retention_rate_d4:4.1,retention_rate_d5:14,retention_rate_d6:3.1,retention_rate_d7:6.1}]}},mounted:function(){this.init()},methods:{getCellClass:function(t){t.row,t.column;var e=t.rowIndex,a=t.columnIndex;if(e>=0&&e<=6&&a>=2&&a<=8-e)return{background:"#66B3FF",color:"#ffffff"}},getParent:function(){this.recentDays=this.$parent.$parent.$parent.recentDays,this.dateRange=this.$parent.$parent.$parent.dateRange,this.curDate=this.$parent.$parent.$parent.curDate},init:function(){var t=this;this.getParent(),i.a.getUserRetention(this.curDate).then(function(e){console.log("retention:"+e),t.tableData=e}).catch(function(t){console.log("失败"+t)})},formatRate1:function(t,e,a,n){return parseFloat(a).toFixed(2)+"%"},formatRate2:function(t,e,a,n){return n<6?parseFloat(a).toFixed(2)+"%":""},formatRate3:function(t,e,a,n){return n<5?parseFloat(a).toFixed(2)+"%":""},formatRate4:function(t,e,a,n){return n<4?parseFloat(a).toFixed(2)+"%":""},formatRate5:function(t,e,a,n){return n<3?parseFloat(a).toFixed(2)+"%":""},formatRate6:function(t,e,a,n){return n<2?parseFloat(a).toFixed(2)+"%":""},formatRate7:function(t,e,a,n){return n<1?parseFloat(a).toFixed(2)+"%":""}}},_=Object(l.a)(v,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"el-row",attrs:{gutter:24}},[a("span",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._v(" 留存率")])]),t._v(" "),a("el-row",{staticClass:"el-row",attrs:{gutter:24}},[a("el-table",{staticStyle:{width:"100%","font-size":"15px"},attrs:{border:"",data:t.tableData,"header-cell-style":{background:"#eef1f6",color:"#606266"},"cell-style":t.getCellClass}},[a("el-table-column",{attrs:{prop:"create_date",label:"用户新增时间",width:"300"}}),t._v(" "),a("el-table-column",{attrs:{prop:"new_user_count",label:"新增用户",width:"230"}}),t._v(" "),a("el-table-column",{attrs:{prop:"retention_rate_d1",label:"1天后",formatter:t.formatRate1}}),t._v(" "),a("el-table-column",{attrs:{prop:"retention_rate_d2",label:"2天后",formatter:t.formatRate2}}),t._v(" "),a("el-table-column",{attrs:{prop:"retention_rate_d3",label:"3天后",formatter:t.formatRate3}}),t._v(" "),a("el-table-column",{attrs:{prop:"retention_rate_d4",label:"4天后",formatter:t.formatRate4}}),t._v(" "),a("el-table-column",{attrs:{prop:"retention_rate_d5",label:"5天后",formatter:t.formatRate5}}),t._v(" "),a("el-table-column",{attrs:{prop:"retention_rate_d6",label:"6天后",formatter:t.formatRate6}}),t._v(" "),a("el-table-column",{attrs:{prop:"retention_rate_d7",label:"7天后",formatter:t.formatRate7}})],1)],1)],1)},[],!1,null,null,null);_.options.__file="userRetention.vue";var y=_.exports,b={components:{dateRange:n.a,userPaidPie:u,userAction:g,userTotal:m,userRetention:y},data:function(){return{curDate:(new Date).toISOString().substring(0,10),recentDays:7,dateRange:"近7日"}},methods:{refresh:function(){this.$refs.userTotal.init(),this.$refs.userPaidPie.init(),this.$refs.userAction.init(),this.$refs.userRetention.init()}}},D=Object(l.a)(b,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-container"},[e("dateRange"),this._v(" "),e("userTotal",{ref:"userTotal"}),this._v(" "),e("el-row",{staticClass:"el-row",attrs:{gutter:24}},[e("el-col",{staticClass:"el-card",attrs:{span:12,align:"center"}},[e("div",{staticClass:"grid-content bg-purple"},[e("userPaidPie",{ref:"userPaidPie"})],1)]),this._v(" "),e("el-col",{staticClass:"el-card",attrs:{span:12}},[e("div",{staticClass:"grid-content bg-purple"},[e("userAction",{ref:"userAction"})],1)]),this._v(" "),e("el-col",{staticClass:"el-card",attrs:{span:24}},[e("div",{staticClass:"grid-content bg-purple"},[e("userRetention",{ref:"userRetention"})],1)])],1)],1)},[],!1,null,null,null);D.options.__file="user.vue";e.default=D.exports}}]);